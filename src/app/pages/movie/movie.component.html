<!-- <p>{{ movie | json }}</p> -->

<h1>Movie Detail</h1>

<!-- I'll put the form here -->
<div class="movie-detail">
    <h2> {{movie.title}} <span>[{{movie.originalTitle}}]</span> </h2>
    <h3 *ngIf="movie.director !== null"> {{movie.director.name}}</h3>
    <h3>({{movie.year}})</h3>
    <h3 *ngIf="movie.duration !== null">{{movie.duration}} min</h3>
    <h4>{{movie.genre}}</h4>

    <form [formGroup]="movieForm">
        <!-- // TODO : other movie attributes -->

        <!-- SYNOPSIS -->
        <mat-form-field class="form-field">
            <!-- <mat-label>Search a movie, actress, director...</mat-label> -->
            <mat-label>Modify the synopsis</mat-label>
            <textarea rows="8" cols="60" class="synopsis-input" matInput type="synopsis"
                placeholder="Type the synopsis here..." formControlName="synopsis">
            </textarea>
            <button mat-button *ngIf="synopsis" matSuffix mat-icon-button aria-label="Clear" (click)="clearSynopsis()">
                <mat-icon>close</mat-icon>
            </button>
        </mat-form-field>
        <button mat-raised-button (click)="updateSynopsis()" [disabled]="movieForm.invalid">Update synopsis</button>

        <button mat-raised-button (click)="validateDelete()">Delete movie</button>

    </form>

    <span class="nb-comments"  (click)="toggleShow()">14 comments</span>
    <hr>
    <div class="comments"  *ngIf="isShown">
        
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Est eius velit, culpa consectetur saepe, cupiditate
            obcaecati, quibusdam tempora quidem laboriosam tempore animi ipsa modi eaque perferendis? Quisquam provident
            at quod.</p>
        <span class="from">By username, posted on 22/06/2019</span>
        <p>comment 2</p>
        <span class="from">By username, posted on 22/06/2019</span>
        <p>comment 3</p>
        <span class="from">By username, posted on 22/06/2019</span>
        <p>comment 4</p>
        <span class="from">By username, posted on 22/06/2019</span>
        <p>comment 5</p>
        <span class="from">By username, posted on 22/06/2019</span>
        <p>comment 6</p>
        <span class="from">By username, posted on 22/06/2019</span>
        <p>comment 7</p>
        <span class="from">By username, posted on 22/06/2019</span>

        <!-- if nbcoms > 7 ... -->
        <div class="view-more"><span> More +</span></div>
    </div>
    <form action="" class="add-comment">

        <textarea cols="64" rows="4" type="text" placeholder="your comment"></textarea>
        <button mat-raised-button>Send</button>
    </form>
</div>